
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="True" name="HandheldFriendly"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="" name="robots"/>
<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&amp;family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&amp;display=swap" rel="stylesheet"/>
<link href="https://mestrace.github.io/theme/stylesheet/style.less" rel="stylesheet/less" type="text/css"/>
<script src="//cdnjs.cloudflare.com/ajax/libs/less.js/2.5.1/less.min.js" type="text/javascript"></script>
<link href="https://mestrace.github.io/theme/stylesheet/dark-theme.min.css" id="dark-theme-style" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css"/>
<link href="https://mestrace.github.io/theme/pygments/monokai.min.css" id="pygments-dark-theme" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css"/>
<link href="https://mestrace.github.io/theme/pygments/monokai.min.css" id="pygments-light-theme" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)" rel="stylesheet" type="text/css"/>
<link href="https://mestrace.github.io/theme/font-awesome/css/fontawesome.css" rel="stylesheet" type="text/css"/>
<link href="https://mestrace.github.io/theme/font-awesome/css/brands.css" rel="stylesheet" type="text/css"/>
<link href="https://mestrace.github.io/theme/font-awesome/css/solid.css" rel="stylesheet" type="text/css"/>
<link href="https://mestrace.github.io/static/custom.css" rel="stylesheet" type="text/css"/>
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/>
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/>
<link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/>
<link href="/site.webmanifest" rel="manifest"/>
<!-- Chrome, Firefox OS and Opera -->
<meta content="#333" name="theme-color"/>
<!-- Windows Phone -->
<meta content="#333" name="msapplication-navbutton-color"/>
<!-- iOS Safari -->
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/>
<!-- Microsoft EDGE -->
<meta content="#333" name="msapplication-TileColor"/>
<link href="https://mestrace.github.io/feeds/all.atom.xml" rel="alternate" title="Mestrace的个人博客 Atom" type="application/atom+xml"/>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-07WBTMQT81"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-07WBTMQT81');
</script>
<meta content="Mestrace" name="author">
<meta content="将包管理方式从requirements.txt升级到Poetry" name="description">
<meta content="Python" name="keywords"/>
<meta content="Mestrace的个人博客" property="og:site_name">
<meta content="从requirements.txt升级到Poetry" property="og:title">
<meta content="将包管理方式从requirements.txt升级到Poetry" property="og:description">
<meta content="en_US" property="og:locale">
<meta content="https://mestrace.github.io/posts/2024/Mar/23/requirements-txt-upgrade-poetry/" property="og:url"/>
<meta content="article" property="og:type"/>
<meta content="2024-03-23 14:00:00+08:00" property="article:published_time"/>
<meta content="2024-04-27 12:00:00+08:00" property="article:modified_time"/>
<meta content="https://mestrace.github.io/author/mestrace.html" property="article:author"/>
<meta content="Computer Science" property="article:section">
<meta content="Python" property="article:tag"/>
<meta content="http://github.com/Mestrace.png?size=460" property="og:image"/>
<title>Mestrace的个人博客 – 从requirements.txt升级到Poetry</title>
</meta></meta></meta></meta></meta></meta></meta><link href="https://mestrace.github.io/posts/2024/Mar/23/requirements-txt-upgrade-poetry/" rel="canonical"/><script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Mestrace的个人博客", "item": "https://mestrace.github.io"}, {"@type": "ListItem", "position": 2, "name": "Posts", "item": "https://mestrace.github.io/posts"}, {"@type": "ListItem", "position": 3, "name": "2024", "item": "https://mestrace.github.io/posts/2024"}, {"@type": "ListItem", "position": 4, "name": "Mar", "item": "https://mestrace.github.io/posts/2024/Mar"}, {"@type": "ListItem", "position": 5, "name": "23", "item": "https://mestrace.github.io/posts/2024/Mar/23"}, {"@type": "ListItem", "position": 6, "name": "Requirements txt upgrade poetry", "item": "https://mestrace.github.io/posts/2024/Mar/23/requirements-txt-upgrade-poetry"}, {"@type": "ListItem", "position": 7, "name": "Index", "item": "https://mestrace.github.io/posts/2024/Mar/23/requirements-txt-upgrade-poetry/index.html"}]}</script><script type="application/ld+json">{"@context": "https://schema.org", "@type": "Article", "author": {"@type": "Person", "name": "Mestrace"}, "publisher": {"@type": "Organization", "name": "Mestrace的个人博客"}, "headline": "从requirements.txt升级到Poetry", "about": "Computer Science", "datePublished": "2024-03-23 14:00"}</script></head>
<body>
<aside>
<div>
<a href="https://mestrace.github.io/">
<img alt="Mestrace" src="http://github.com/Mestrace.png?size=460" title="Mestrace"/>
</a>
<h1>
<a href="https://mestrace.github.io/">Mestrace</a>
</h1>
<p>Software Developer</p>
<nav>
<ul class="list">
<li>
<a href="https://mestrace.github.io/pages/about.html" target="_self">
                About
              </a>
</li>
</ul>
</nav>
<ul class="social">
<li>
<a class="sc-github" href="http://github.com/Mestrace/" target="_blank">
<i class="fa-brands fa-github"></i>
</a>
</li>
</ul>
</div>
</aside>
<main>
<nav>
<a href="https://mestrace.github.io/">Home</a>
<a href="https://mestrace.github.io/feeds/all.atom.xml">Atom</a>
</nav>
<article class="single">
<header>
<h1 id="requirements-txt-upgrade-poetry">从requirements.txt升级到Poetry</h1>
<p>
      Posted on Sat 23 March 2024 in <a href="https://mestrace.github.io/category/computer-science.html">Computer Science</a>
</p>
</header>
<div>
<p>在Python软件开发中，笔者通常使用 <code>requirements.txt</code> 文件来管理项目的依赖。这个习惯源自于 <code>pip freeze</code> 命令，它能够简单地列出当前 Python 环境下的所有包及其版本号。无论项目规模大小，这都是一种简单而有效的方法，能够确保所有开发人员以及部署环境中运行的包版本保持一致。在 <code>requirements.txt</code> 中，开发者可以轻松地为每个包定义一个版本号，例如 <code>abc-def &gt;= 0.8.3</code>。然而，在今天，随着Python使用者越来越多，项目也越来越庞大的情况下，这个早在08年就开始使用的包管理方法显得愈发过时（<a href="https://github.com/pypa/pip/commit/368a064ae4ca77ac540ef4aea3bf61dd3c2bccb1">pypa/pip@368a064</a>）。</p>
<p>在手动管理依赖的情况下，开发者往往无法穷尽所有的依赖关系。因此，通常的做法是只列出顶层依赖包及其版本号。这样一来，当依赖关系变得复杂时，pip 工具的解析能力就显得不足，无法自动解决依赖传递的问题。一个常见的情况是，不同的顶层包可能指定了同一个底层包的不同版本，并且这些版本可能相互不兼容。此外，当项目的依赖关系发生变化时，就需要大量手动操作来编辑 <code>requirements.txt</code> 文件。另外，不同的环境可能需要不同的依赖。作者通常会使用类似 <code>requirements-*.txt</code> 的命名方式来区分不同环境下的依赖。例如，在测试环境中，可能需要安装额外的跟踪相关库或测试库，如 <code>pytest</code>。但是，<code>requirements.txt</code> 无法完全锁定包的版本，因此在不同的环境中可能会安装不同的版本，甚至在极端情况下会引入安全风险。如果连接的不是受信任的仓库源，黑客可能会利用供应链攻击，将包版本替换为恶意软件版本，而<code>requirements.txt</code>无法解决这种问题。</p>
<p>在诸多选项中，笔者最终选择了<code>poetry</code>作为本博客的包管理工具。除了使用基于<a href="https://peps.python.org/pep-0621/">PEP-621</a>带来的<code>pyproject.toml</code>的项目与包管理办法之外，<code>poetry</code>还带来了包版本锁定<code>poetry.lock</code>，增强的自动依赖解析器，配置工具，自动虚拟环境管理等多项功能。而接下来的内容则是一些简单的<code>poetry</code>命令介绍。</p>
<h2>poetry new</h2>
<p>使用<code>poetry new</code>命令新建项目较为简单，在命令行里键入<code>poetry new &lt;package-name&gt;</code>即可。工具就新建对应名称的项目文件夹，并在其中包含<code>README.md</code>，<code>pyproject.toml</code>，源代码主目录及测试目录。但由于笔者是在现有环境中进行迁移，因此这个方式不太适用。</p>
<div class="highlight"><pre><span></span><code>&gt; poetry new poetry-test
Created package poetry_test in poetry-test
&gt; cd poetry-test 
&gt; ls
README.md      poetry_test    pyproject.toml tests
</code></pre></div>
<p>而生成的<code>pyproject.toml</code>长这样。</p>
<div class="highlight"><pre><span></span><code><span class="k">[tool.poetry]</span>
<span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"poetry-test"</span>
<span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"0.1.0"</span>
<span class="n">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">""</span>
<span class="n">authors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"Mestrace &lt;abc@example.com&gt;"</span><span class="p">]</span>
<span class="n">readme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"README.md"</span>

<span class="k">[tool.poetry.dependencies]</span>
<span class="n">python</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"^3.11"</span>

<span class="k">[build-system]</span>
<span class="n">requires</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"poetry-core"</span><span class="p">]</span>
<span class="n">build-backend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"poetry.core.masonry.api"</span>
</code></pre></div>
<h2>poetry init</h2>
<p><code>poetry init</code>命令只在一个已有的项目下创建对应的<code>pyproject.toml</code>。使用<code>poetry init</code>之后，会进入一个命令行交互的引导，并输入对应的信息来填充生成的<code>pyproject.toml</code>，也是笔者迁移的第一步。</p>
<div class="highlight"><pre><span></span><code>&gt; poetry init

This command will guide you through creating your pyproject.toml config.

Package name [mestrace.github.io]:  
Version [0.1.0]:  
Description []:  Mestrace's Personal Blog
Author [Mestrace &lt;abc@example.com&gt;, n to skip]:  n
License []:  WTFPL     
Compatible Python versions [^3.11]:  

Would you like to define your main dependencies interactively? (yes/no) [yes] no
Would you like to define your development dependencies interactively? (yes/no) [yes] no
</code></pre></div>
<h2>poetry add</h2>
<p><code>poetry add</code>则可以添加对应的包到当前项目，并解析对应的依赖</p>
<div class="highlight"><pre><span></span><code>&gt; poetry add django@latest
Creating virtualenv poetry-test-Ewpj0lEl-py3.11 in /tmp/folder/virtualenvs
Using version ^5.0.3 for django

Updating dependencies
Resolving dependencies... (1.0s)

Package operations: 3 installs, 0 updates, 0 removals

  - Installing asgiref (3.8.1)
  - Installing sqlparse (0.4.4)
  - Installing django (5.0.3)

Writing lock file
</code></pre></div>
<p>添加之后，在<code>pyproject.toml</code>中新增了django的依赖。</p>
<div class="highlight"><pre><span></span><code><span class="k">[tool.poetry.dependencies]</span>
<span class="na">python</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"^3.11"</span>
<span class="na">django</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"^5.0.3"</span>
</code></pre></div>
<p>此时，<code>poetry.lock</code>中也添加了对应的项目。要注意的是，这里也包含了对应<code>.whl</code>和<code>.tar.gz</code>文件的<code>sha256</code>的哈希校验码，以确保最终拉到的包是符合预期的。</p>
<div class="highlight"><pre><span></span><code>....

[[package]]
name = "django"
version = "5.0.3"
description = "A high-level Python web framework that encourages rapid development and clean, pragmatic design."
optional = false
python-versions = "&gt;=3.10"
files = [
    {file = "Django-5.0.3-py3-none-any.whl", hash = "sha256:5c7d748ad113a81b2d44750ccc41edc14e933f56581683db548c9257e078cc83"},
    {file = "Django-5.0.3.tar.gz", hash = "sha256:5fb37580dcf4a262f9258c1f4373819aacca906431f505e4688e37f3a99195df"},
]

[package.dependencies]
asgiref = "&gt;=3.7.0,&lt;4"
sqlparse = "&gt;=0.3.1"
tzdata = {version = "*", markers = "sys_platform == \"win32\""}

...Omitted
</code></pre></div>
<p>接着使用poetry导入requirements.txt重的项目。</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span><span class="w"> </span><span class="n">poetry</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="err">`</span><span class="n">cat</span><span class="w"> </span><span class="n">requirements</span><span class="o">.</span><span class="n">txt</span><span class="err">`</span>
<span class="n">Using</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="o">^</span><span class="mf">1.0</span><span class="o">.</span><span class="mi">2</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">pelican</span><span class="o">-</span><span class="n">markdown</span><span class="o">-</span><span class="n">include</span>

<span class="n">Updating</span><span class="w"> </span><span class="n">dependencies</span>
<span class="n">Resolving</span><span class="w"> </span><span class="n">dependencies</span><span class="o">...</span><span class="w"> </span><span class="p">(</span><span class="mf">12.9</span><span class="n">s</span><span class="p">)</span>

<span class="n">Package</span><span class="w"> </span><span class="n">operations</span><span class="p">:</span><span class="w"> </span><span class="mi">44</span><span class="w"> </span><span class="n">installs</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">updates</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">removals</span>

<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">idna</span><span class="w"> </span><span class="p">(</span><span class="mf">3.6</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">mdurl</span><span class="w"> </span><span class="p">(</span><span class="mf">0.1</span><span class="o">.</span><span class="mi">2</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">sniffio</span><span class="w"> </span><span class="p">(</span><span class="mf">1.3</span><span class="o">.</span><span class="mi">1</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">anyio</span><span class="w"> </span><span class="p">(</span><span class="mf">4.3</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">markdown</span><span class="o">-</span><span class="n">it</span><span class="o">-</span><span class="n">py</span><span class="w"> </span><span class="p">(</span><span class="mf">3.0</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">markupsafe</span><span class="w"> </span><span class="p">(</span><span class="mf">2.1</span><span class="o">.</span><span class="mi">5</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">pygments</span><span class="w"> </span><span class="p">(</span><span class="mf">2.17</span><span class="o">.</span><span class="mi">2</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">pytz</span><span class="w"> </span><span class="p">(</span><span class="mf">2024.1</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">six</span><span class="w"> </span><span class="p">(</span><span class="mf">1.16</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">blinker</span><span class="w"> </span><span class="p">(</span><span class="mf">1.7</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">docutils</span><span class="w"> </span><span class="p">(</span><span class="mf">0.20</span><span class="o">.</span><span class="mi">1</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">feedgenerator</span><span class="w"> </span><span class="p">(</span><span class="mf">2.1</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">jinja2</span><span class="w"> </span><span class="p">(</span><span class="mf">3.1</span><span class="o">.</span><span class="mi">3</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">markdown</span><span class="w"> </span><span class="p">(</span><span class="mf">3.6</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">ordered</span><span class="o">-</span><span class="n">set</span><span class="w"> </span><span class="p">(</span><span class="mf">4.1</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">python</span><span class="o">-</span><span class="n">dateutil</span><span class="w"> </span><span class="p">(</span><span class="mf">2.9</span><span class="o">.</span><span class="mf">0.</span><span class="n">post0</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">rich</span><span class="w"> </span><span class="p">(</span><span class="mf">13.7</span><span class="o">.</span><span class="mi">1</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">smartypants</span><span class="w"> </span><span class="p">(</span><span class="mf">2.0</span><span class="o">.</span><span class="mi">1</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">soupsieve</span><span class="w"> </span><span class="p">(</span><span class="mf">2.5</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">unidecode</span><span class="w"> </span><span class="p">(</span><span class="mf">1.3</span><span class="o">.</span><span class="mi">8</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">watchfiles</span><span class="w"> </span><span class="p">(</span><span class="mf">0.21</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">webencodings</span><span class="w"> </span><span class="p">(</span><span class="mf">0.5</span><span class="o">.</span><span class="mi">1</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">beautifulsoup4</span><span class="w"> </span><span class="p">(</span><span class="mf">4.12</span><span class="o">.</span><span class="mi">3</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">certifi</span><span class="w"> </span><span class="p">(</span><span class="mf">2024.2</span><span class="o">.</span><span class="mi">2</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">charset</span><span class="o">-</span><span class="n">normalizer</span><span class="w"> </span><span class="p">(</span><span class="mf">3.3</span><span class="o">.</span><span class="mi">2</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">html5lib</span><span class="w"> </span><span class="p">(</span><span class="mf">1.1</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">markdown</span><span class="o">-</span><span class="n">include</span><span class="w"> </span><span class="p">(</span><span class="mf">0.8</span><span class="o">.</span><span class="mi">1</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">pelican</span><span class="w"> </span><span class="p">(</span><span class="mf">4.9</span><span class="o">.</span><span class="mi">1</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">pelican</span><span class="o">-</span><span class="n">granular</span><span class="o">-</span><span class="n">signals</span><span class="w"> </span><span class="p">(</span><span class="mf">1.1</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">py3dns</span><span class="w"> </span><span class="p">(</span><span class="mf">4.0</span><span class="o">.</span><span class="mi">1</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">tornado</span><span class="w"> </span><span class="p">(</span><span class="mf">6.4</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">typogrify</span><span class="w"> </span><span class="p">(</span><span class="mf">2.0</span><span class="o">.</span><span class="mi">7</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">urllib3</span><span class="w"> </span><span class="p">(</span><span class="mf">2.2</span><span class="o">.</span><span class="mi">1</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">ghp</span><span class="o">-</span><span class="n">import</span><span class="w"> </span><span class="p">(</span><span class="mf">2.1</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">invoke</span><span class="w"> </span><span class="p">(</span><span class="mf">2.2</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">livereload</span><span class="w"> </span><span class="p">(</span><span class="mf">2.6</span><span class="o">.</span><span class="mi">3</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">pelican</span><span class="o">-</span><span class="n">markdown</span><span class="o">-</span><span class="n">include</span><span class="w"> </span><span class="p">(</span><span class="mf">1.0</span><span class="o">.</span><span class="mi">2</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">pelican</span><span class="o">-</span><span class="n">precompress</span><span class="w"> </span><span class="p">(</span><span class="mf">2.1</span><span class="o">.</span><span class="mi">1</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">pelican</span><span class="o">-</span><span class="n">render</span><span class="o">-</span><span class="n">math</span><span class="w"> </span><span class="p">(</span><span class="mf">1.0</span><span class="o">.</span><span class="mi">3</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">pelican</span><span class="o">-</span><span class="n">seo</span><span class="w"> </span><span class="p">(</span><span class="mf">1.2</span><span class="o">.</span><span class="mi">2</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">pelican</span><span class="o">-</span><span class="n">simple</span><span class="o">-</span><span class="n">footnotes</span><span class="w"> </span><span class="p">(</span><span class="mf">1.0</span><span class="o">.</span><span class="mi">2</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">pelican</span><span class="o">-</span><span class="n">sitemap</span><span class="w"> </span><span class="p">(</span><span class="mf">1.0</span><span class="o">.</span><span class="mi">2</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="p">(</span><span class="mf">2.31</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Installing</span><span class="w"> </span><span class="n">zopfli</span><span class="w"> </span><span class="p">(</span><span class="mf">0.2</span><span class="o">.</span><span class="mi">2</span><span class="p">)</span>

<span class="n">Writing</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="n">file</span>
</code></pre></div>
<p>到这里就完成了<code>requirements.txt</code>的迁移，也可以安全的移除啦。</p>
<p>如果在这时需要更新一个软件的版本，则可以使用<code>poetry add &lt;package&gt;@latest</code>来进行安装。</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span><span class="w"> </span><span class="n">poetry</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="n">zopfli</span><span class="nv">@latest</span>
<span class="k">Using</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="o">^</span><span class="mf">0.2.3</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">zopfli</span>

<span class="n">Updating</span><span class="w"> </span><span class="n">dependencies</span>
<span class="n">Resolving</span><span class="w"> </span><span class="n">dependencies</span><span class="p">...</span><span class="w"> </span><span class="p">(</span><span class="mf">0.5</span><span class="n">s</span><span class="p">)</span>

<span class="n">Package</span><span class="w"> </span><span class="nl">operations</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">installs</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">update</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">removals</span>

<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">Updating</span><span class="w"> </span><span class="n">zopfli</span><span class="w"> </span><span class="p">(</span><span class="mf">0.2.2</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mf">0.2.3</span><span class="p">)</span>

<span class="n">Writing</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="k">file</span>
</code></pre></div>
<h2>poetry show</h2>
<p><code>poetry show</code>则是<code>pip show</code>的完全增强版。</p>
<p>你可以使用<code>-T</code>功能来显示所有顶层依赖。</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span><span class="w"> </span><span class="n">poetry</span><span class="w"> </span><span class="n">show</span><span class="w"> </span><span class="o">-</span><span class="n">T</span><span class="w"> </span>
<span class="n">ghp</span><span class="o">-</span><span class="kn">import</span><span class="w">               </span><span class="mf">2.1.0</span><span class="w">       </span><span class="n">Copy</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">docs</span><span class="w"> </span><span class="n">directly</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">gh</span><span class="o">-</span><span class="n">pages</span><span class="w"> </span><span class="n">branch</span><span class="o">.</span>
<span class="n">invoke</span><span class="w">                   </span><span class="mf">2.2.0</span><span class="w">       </span><span class="n">Pythonic</span><span class="w"> </span><span class="n">task</span><span class="w"> </span><span class="n">execution</span>
<span class="n">livereload</span><span class="w">               </span><span class="mf">2.6.3</span><span class="w">       </span><span class="n">Python</span><span class="w"> </span><span class="n">LiveReload</span><span class="w"> </span><span class="ow">is</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">awesome</span><span class="w"> </span><span class="n">tool</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">web</span><span class="w"> </span><span class="n">developers</span>
<span class="n">markdown</span><span class="o">-</span><span class="n">include</span><span class="w">         </span><span class="mf">0.8.1</span><span class="w">       </span><span class="n">A</span><span class="w"> </span><span class="n">Python</span><span class="o">-</span><span class="n">Markdown</span><span class="w"> </span><span class="n">extension</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">provides</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="s1">'include'</span><span class="w"> </span><span class="n">function</span>
<span class="n">pelican</span><span class="w">                  </span><span class="mf">4.9.1</span><span class="w">       </span><span class="n">Static</span><span class="w"> </span><span class="n">site</span><span class="w"> </span><span class="n">generator</span><span class="w"> </span><span class="n">supporting</span><span class="w"> </span><span class="n">Markdown</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">reStructuredText</span>
<span class="n">pelican</span><span class="o">-</span><span class="n">markdown</span><span class="o">-</span><span class="n">include</span><span class="w"> </span><span class="mf">1.0.2</span><span class="w">       </span><span class="n">Pelican</span><span class="w"> </span><span class="n">plugin</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">Markdown</span><span class="o">-</span><span class="n">Include</span><span class="w"> </span><span class="n">extension</span>
<span class="n">pelican</span><span class="o">-</span><span class="n">photos</span><span class="w">           </span><span class="mf">1.6.0</span><span class="w">       </span><span class="n">Add</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">photo</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">gallery</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">photos</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">article</span>
<span class="n">pelican</span><span class="o">-</span><span class="n">precompress</span><span class="w">      </span><span class="mf">2.2.0</span><span class="w">       </span><span class="n">Pre</span><span class="o">-</span><span class="n">compress</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">Pelican</span><span class="w"> </span><span class="n">site</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">gzip</span><span class="p">,</span><span class="w"> </span><span class="n">zopfli</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">brotli</span><span class="err">!</span>
<span class="n">pelican</span><span class="o">-</span><span class="n">render</span><span class="o">-</span><span class="n">math</span><span class="w">      </span><span class="mf">1.0.3</span><span class="w">       </span><span class="n">Render</span><span class="w"> </span><span class="n">mathematics</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">Pelican</span><span class="w"> </span><span class="n">site</span><span class="w"> </span><span class="n">content</span>
<span class="n">pelican</span><span class="o">-</span><span class="n">seo</span><span class="w">              </span><span class="mf">1.2.2</span><span class="w">       </span><span class="n">Pelican</span><span class="w"> </span><span class="n">plugin</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">improve</span><span class="w"> </span><span class="n">SEO</span><span class="w"> </span><span class="p">(</span><span class="n">Search</span><span class="w"> </span><span class="n">Engine</span><span class="w"> </span><span class="n">Optimization</span><span class="p">)</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">reach</span><span class="w"> </span><span class="n">top</span><span class="w"> </span><span class="n">posit</span><span class="o">...</span>
<span class="n">pelican</span><span class="o">-</span><span class="n">simple</span><span class="o">-</span><span class="n">footnotes</span><span class="w"> </span><span class="mf">1.0.2</span><span class="w">       </span><span class="n">Pelican</span><span class="w"> </span><span class="n">plugin</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="n">footnotes</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">articles</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">pages</span>
<span class="n">pelican</span><span class="o">-</span><span class="n">sitemap</span><span class="w">          </span><span class="mf">1.1.0</span><span class="w">       </span><span class="n">Pelican</span><span class="w"> </span><span class="n">plugin</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">generate</span><span class="w"> </span><span class="n">sitemap</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">plain</span><span class="o">-</span><span class="n">text</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">XML</span><span class="w"> </span><span class="nb">format</span>
<span class="n">requests</span><span class="w">                 </span><span class="mf">2.31.0</span><span class="w">      </span><span class="n">Python</span><span class="w"> </span><span class="n">HTTP</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">Humans</span><span class="o">.</span>
<span class="n">zopfli</span><span class="w">                   </span><span class="mf">0.2.3</span><span class="w">       </span><span class="n">Zopfli</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">python</span>
</code></pre></div>
<p>你可以使用<code>-t</code>选项来展示完整的项目依赖树。</p>
<div class="highlight"><pre><span></span><code><span class="k">&gt; </span><span class="ge">poetry show -t pelican</span>
pelican 4.9.1 Static site generator supporting Markdown and reStructuredText
├── blinker &gt;=1.7.0
├── docutils &gt;=0.20.1
├── feedgenerator &gt;=2.1.0
│   └── pytz &gt;=0a 
├── jinja2 &gt;=3.1.2
│   └── markupsafe &gt;=2.0 
├── ordered-set &gt;=4.1.0
├── pygments &gt;=2.16.1
├── python-dateutil &gt;=2.8.2
│   └── six &gt;=1.5 
├── rich &gt;=13.6.0
│   ├── markdown-it-py &gt;=2.2.0 
│   │   └── mdurl &gt;=0.1,&lt;1.0 
│   └── pygments &gt;=2.13.0,&lt;3.0.0 
├── tzdata *
├── unidecode &gt;=1.3.7
└── watchfiles &gt;=0.21.0
    └── anyio &gt;=3.0.0 
        ├── idna &gt;=2.8 
        └── sniffio &gt;=1.1 
</code></pre></div>
<p>你还可以使用<code>-o</code>选项来展示所有存在新版本的包。</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span><span class="w"> </span><span class="nv">poetry</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">-</span><span class="nv">o</span>
<span class="nv">pelican</span><span class="o">-</span><span class="nv">precompress</span><span class="w"> </span><span class="mi">2</span>.<span class="mi">1</span>.<span class="mi">1</span><span class="w">  </span><span class="mi">2</span>.<span class="mi">2</span>.<span class="mi">0</span><span class="w">  </span><span class="nv">Pre</span><span class="o">-</span><span class="nv">compress</span><span class="w"> </span><span class="nv">your</span><span class="w"> </span><span class="nv">Pelican</span><span class="w"> </span><span class="nv">site</span><span class="w"> </span><span class="nv">using</span><span class="w"> </span><span class="nv">gzip</span>,<span class="w"> </span><span class="nv">zopfli</span>,<span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">brotli</span><span class="o">!</span>
<span class="nv">pelican</span><span class="o">-</span><span class="nv">sitemap</span><span class="w">     </span><span class="mi">1</span>.<span class="mi">0</span>.<span class="mi">2</span><span class="w">  </span><span class="mi">1</span>.<span class="mi">1</span>.<span class="mi">0</span><span class="w">  </span><span class="nv">Pelican</span><span class="w"> </span><span class="nv">plugin</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">generate</span><span class="w"> </span><span class="nv">sitemap</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">plain</span><span class="o">-</span><span class="nv">text</span><span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="nv">XML</span><span class="w"> </span><span class="nv">format</span>
<span class="nv">pillow</span><span class="w">              </span><span class="mi">10</span>.<span class="mi">0</span>.<span class="mi">1</span><span class="w"> </span><span class="mi">10</span>.<span class="mi">2</span>.<span class="mi">0</span><span class="w"> </span><span class="nv">Python</span><span class="w"> </span><span class="nv">Imaging</span><span class="w"> </span><span class="nv">Library</span><span class="w"> </span><span class="ss">(</span><span class="nv">Fork</span><span class="ss">)</span>
</code></pre></div>
<h2>poetry run</h2>
<p><code>Poetry</code>不仅包含了包管理系统，还提供了一个虚拟环境的管理。适用<code>poetry run &lt;command&gt;</code>命令等价于</p>
<div class="highlight"><pre><span></span><code><span class="ss">(</span><span class="nv">use</span><span class="w"> </span><span class="nv">virtual</span><span class="w"> </span><span class="nv">env</span><span class="ss">)</span>
<span class="o">&lt;</span><span class="nv">command</span><span class="o">&gt;</span>
<span class="ss">(</span><span class="k">exit</span><span class="w"> </span><span class="nv">virtual</span><span class="w"> </span><span class="nv">env</span><span class="ss">)</span>
</code></pre></div>
<p>官方文档<a href="https://python-poetry.org/docs/managing-environments/">Poetry Documentation - Managing environments</a>中记录了更多高阶的用法，这里笔者就不展开了。</p>
<p align="center">
<img src="https://mestrace.github.io/images/gei_li.png">
</img></p>
<h2>虚拟环境</h2>
<p>在poetry中，你可以轻松的管理你项目当中的虚拟环境。你可以用以下命令管理你的虚拟环境。</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 基于python文件目录创建</span>
poetry<span class="w"> </span>env<span class="w"> </span>use<span class="w"> </span>/path/to/python/bin/python3.6
<span class="c1"># 基于命令创建</span>
poetry<span class="w"> </span>env<span class="w"> </span>use<span class="w"> </span>python3.8
<span class="c1"># 基于版本号创建</span>
poetry<span class="w"> </span>env<span class="w"> </span>use<span class="w"> </span><span class="m">3</span>.10
<span class="c1"># 基于系统python创建</span>
poetry<span class="w"> </span>env<span class="w"> </span>use<span class="w"> </span>system
</code></pre></div>
<p>那么我们就给当前repo创建一个虚拟环境吧。</p>
<div class="highlight"><pre><span></span><code>➜<span class="w">  </span>stacks-py<span class="w"> </span>git:<span class="o">(</span>main<span class="o">)</span><span class="w"> </span>✗<span class="w"> </span>poetry<span class="w"> </span>env<span class="w"> </span>use<span class="w"> </span><span class="m">3</span>.11
Creating<span class="w"> </span>virtualenv<span class="w"> </span>stacks-py-cHFsRABB-py3.11<span class="w"> </span><span class="k">in</span><span class="w"> </span>~/Library/Caches/pypoetry/virtualenvs
Using<span class="w"> </span>virtualenv:<span class="w"> </span>~/Library/Caches/pypoetry/virtualenvs/stacks-py-cHFsRABB-py3.11
➜<span class="w">  </span>stacks-py<span class="w"> </span>git:<span class="o">(</span>main<span class="o">)</span><span class="w"> </span>✗<span class="w"> </span>poetry<span class="w"> </span>env<span class="w"> </span>list
stacks-py-cHFsRABB-py3.11<span class="w"> </span><span class="o">(</span>Activated<span class="o">)</span>
</code></pre></div>
<p>可以看到，虚拟环境的默认路径是在 <code>~/Library/Caches/pypoetry/virtualenvs</code>下面的。如果你想改变这个行为的话，你也可以将其设定为在当前repo目录下创建虚拟环境。</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 设置为在当前目录下创建虚拟环境</span>
poetry<span class="w"> </span>config<span class="w"> </span>virtualenvs.in-project<span class="w"> </span><span class="nb">true</span>
<span class="c1"># 接着创建虚拟环境的命令</span>
</code></pre></div>
<p>查看当前启用的环境信息</p>
<div class="highlight"><pre><span></span><code>my-repo<span class="w"> </span>git:<span class="o">(</span>main<span class="o">)</span><span class="w"> </span>✗<span class="w"> </span>poetry<span class="w"> </span>env<span class="w"> </span>info

Virtualenv
Python:<span class="w">         </span><span class="m">3</span>.11.7
Implementation:<span class="w"> </span>CPython
Path:<span class="w">           </span>/path/to/repo/.venv
Executable:<span class="w">     </span>/path/to/repo/.venv/bin/python
Valid:<span class="w">          </span>True

Base
Platform:<span class="w">   </span>darwin
OS:<span class="w">         </span>posix
Python:<span class="w">     </span><span class="m">3</span>.11.7
Path:<span class="w">       </span>/usr/local/opt/python@3.11/Frameworks/Python.framework/Versions/3.11
Executable:<span class="w"> </span>/usr/local/opt/python@3.11/Frameworks/Python.framework/Versions/3.11/bin/python3.11
</code></pre></div>
<p>结合vscode一起使用的话更佳哦！</p>
<h2>小结</h2>
<p>管理项目的依赖并不是一件容易的事情，而<code>poetry</code>可以安全的帮助我们解决重复劳作的问题。如果你的Python项目还在使用<code>requirements.txt</code>来管理包依赖的话，不妨花上10分钟升级一下，你会获得更好的体验。</p>
</div>
<div class="tag-cloud">
<p>
<a href="https://mestrace.github.io/tag/python.html">Python</a>
</p>
</div>
<div class="center social-share">
<p>如果你觉得这篇文章很赞，不要忘记分享给你的小伙伴们！</p>
<div class="addthis_native_toolbox"></div>
<div class="addthis_sharing_toolbox"></div>
<div class="addthis_inline_share_toolbox"></div>
</div>
<div class="addthis_relatedposts_inline"></div>
</article>
<footer>
<p>
  © 2025  - This work is licensed under a <a href="http://creativecommons.org/licenses/by-sa/4.0/deed.en_US" rel="license" target="_blank">Creative Commons Attribution-ShareAlike 4.0 International License</a>
</p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
  <span class="footer-separator">|</span>
  Switch to the <a href="javascript:void(0)" onclick="theme.switch(`dark`)">dark</a> | <a href="javascript:void(0)" onclick="theme.switch(`light`)">light</a> | <a href="javascript:void(0)" onclick="theme.switch(`browser`)">browser</a> theme
  <script data-default-theme="light" data-enable-auto-detect-theme="True" id="dark-theme-script" src="https://mestrace.github.io/theme/dark-theme/dark-theme.min.js" type="text/javascript">
</script>
</p><p>
<a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license" target="_blank">
<img alt="Creative Commons License" height="15" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" style="border-width:0" title="Creative Commons License" width="80"/>
</a>
</p></footer> </main>
<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Mestrace的个人博客 ",
  "url" : "https://mestrace.github.io",
  "image": "http://github.com/Mestrace.png?size=460",
  "description": "我的个人博客，记录我的成长历程"
}
</script><script async="async" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-64172c2607a4b50c" type="text/javascript"></script>
<a aria-label="View source on Github" class="github-corner" href="http://github.com/Mestrace/" target="_blank">
<svg aria-hidden="true" height="80" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" viewbox="0 0 250 250" width="80">
<path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
<path class="octo-arm" d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;">
</path>
<path class="octo-body" d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor">
</path>
</svg>
</a>
</body>
</html>