
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="True" name="HandheldFriendly"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="" name="robots"/>
<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&amp;family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&amp;display=swap" rel="stylesheet"/>
<link href="https://mestrace.github.io/theme/stylesheet/style.less" rel="stylesheet/less" type="text/css"/>
<script src="//cdnjs.cloudflare.com/ajax/libs/less.js/2.5.1/less.min.js" type="text/javascript"></script>
<link href="https://mestrace.github.io/theme/stylesheet/dark-theme.min.css" id="dark-theme-style" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css"/>
<link href="https://mestrace.github.io/theme/pygments/monokai.min.css" id="pygments-dark-theme" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css"/>
<link href="https://mestrace.github.io/theme/pygments/monokai.min.css" id="pygments-light-theme" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)" rel="stylesheet" type="text/css"/>
<link href="https://mestrace.github.io/theme/font-awesome/css/fontawesome.css" rel="stylesheet" type="text/css"/>
<link href="https://mestrace.github.io/theme/font-awesome/css/brands.css" rel="stylesheet" type="text/css"/>
<link href="https://mestrace.github.io/theme/font-awesome/css/solid.css" rel="stylesheet" type="text/css"/>
<link href="https://mestrace.github.io/static/custom.css" rel="stylesheet" type="text/css"/>
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/>
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/>
<link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/>
<link href="/site.webmanifest" rel="manifest"/>
<!-- Chrome, Firefox OS and Opera -->
<meta content="#333" name="theme-color"/>
<!-- Windows Phone -->
<meta content="#333" name="msapplication-navbutton-color"/>
<!-- iOS Safari -->
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/>
<!-- Microsoft EDGE -->
<meta content="#333" name="msapplication-TileColor"/>
<link href="https://mestrace.github.io/feeds/all.atom.xml" rel="alternate" title="Mestrace的个人博客 Atom" type="application/atom+xml"/>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-07WBTMQT81"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-07WBTMQT81');
</script>
<meta content="Mestrace" name="author">
<meta content="Binlog (binary log)是一组日志文件，包含了对MySQL服务器进行的数据修改和变更，并持久化到磁盘中。Binlog以事件的格式存储，包括了所有的DDL和DML语句（例如数据表Schema的创建和变更，以及数据行的变更）。此外，每个Binlog …" name="description">
<meta content="MySQL" name="keywords"/>
<meta content="Mestrace的个人博客" property="og:site_name">
<meta content="简单聊聊MySQL Binlog" property="og:title">
<meta content="Binlog (binary log)是一组日志文件，包含了对MySQL服务器进行的数据修改和变更，并持久化到磁盘中。Binlog以事件的格式存储，包括了所有的DDL和DML语句（例如数据表Schema的创建和变更，以及数据行的变更）。此外，每个Binlog …" property="og:description">
<meta content="en_US" property="og:locale">
<meta content="https://mestrace.github.io/posts/2021/Aug/30/mysql-binlog-basics/" property="og:url"/>
<meta content="article" property="og:type"/>
<meta content="2021-08-30 00:00:00+08:00" property="article:published_time"/>
<meta content="" property="article:modified_time"/>
<meta content="https://mestrace.github.io/author/mestrace.html" property="article:author"/>
<meta content="Middleware" property="article:section">
<meta content="MySQL" property="article:tag"/>
<meta content="http://github.com/Mestrace.png?size=460" property="og:image"/>
<title>Mestrace的个人博客 – 简单聊聊MySQL Binlog</title>
</meta></meta></meta></meta></meta></meta></meta><link href="https://mestrace.github.io/posts/2021/Aug/30/mysql-binlog-basics/" rel="canonical"/><script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Mestrace的个人博客", "item": "https://mestrace.github.io"}, {"@type": "ListItem", "position": 2, "name": "Posts", "item": "https://mestrace.github.io/posts"}, {"@type": "ListItem", "position": 3, "name": "2021", "item": "https://mestrace.github.io/posts/2021"}, {"@type": "ListItem", "position": 4, "name": "Aug", "item": "https://mestrace.github.io/posts/2021/Aug"}, {"@type": "ListItem", "position": 5, "name": "30", "item": "https://mestrace.github.io/posts/2021/Aug/30"}, {"@type": "ListItem", "position": 6, "name": "Mysql binlog basics", "item": "https://mestrace.github.io/posts/2021/Aug/30/mysql-binlog-basics"}, {"@type": "ListItem", "position": 7, "name": "Index", "item": "https://mestrace.github.io/posts/2021/Aug/30/mysql-binlog-basics/index.html"}]}</script><script type="application/ld+json">{"@context": "https://schema.org", "@type": "Article", "author": {"@type": "Person", "name": "Mestrace"}, "publisher": {"@type": "Organization", "name": "Mestrace的个人博客"}, "headline": "简单聊聊MySQL Binlog", "about": "Middleware", "datePublished": "2021-08-30 00:00"}</script></head>
<body>
<aside>
<div>
<a href="https://mestrace.github.io/">
<img alt="Mestrace" src="http://github.com/Mestrace.png?size=460" title="Mestrace"/>
</a>
<h1>
<a href="https://mestrace.github.io/">Mestrace</a>
</h1>
<p>Software Developer</p>
<nav>
<ul class="list">
<li>
<a href="https://mestrace.github.io/pages/about.html" target="_self">
                About
              </a>
</li>
</ul>
</nav>
<ul class="social">
<li>
<a class="sc-github" href="http://github.com/Mestrace/" target="_blank">
<i class="fa-brands fa-github"></i>
</a>
</li>
</ul>
</div>
</aside>
<main>
<nav>
<a href="https://mestrace.github.io/">Home</a>
<a href="https://mestrace.github.io/feeds/all.atom.xml">Atom</a>
</nav>
<article class="single">
<header>
<h1 id="mysql-binlog-basics">简单聊聊MySQL Binlog</h1>
<p>
      Posted on Mon 30 August 2021 in <a href="https://mestrace.github.io/category/middleware.html">Middleware</a>
</p>
</header>
<div>
<p>Binlog (binary log)是一组日志文件，包含了对MySQL服务器进行的数据修改和变更，并持久化到磁盘中。Binlog以事件的格式存储，包括了所有的DDL和DML语句（例如数据表Schema的创建和变更，以及数据行的变更）。此外，每个Binlog event还囊括了一些额外的信息，包括但不限于</p>
<ul>
<li>语句执行时间</li>
<li>语句执行时MySQL Server的相关状态</li>
<li>错误码</li>
<li>Binlog本身的元信息（如<code>rotate</code>日志）</li>
</ul>
<p>以及其他所有能够让此Binlog event能够被准确的重放的信息。理想条件下，在两台MySQL服务器上同时执行相同的Binlog event，最终两台MySQL服务器里的数据状态一致。
Binlog的主要作用有两个：</p>
<ul>
<li>MySQL集群中，对于主库的变更会通过Binlog同步到从库中。</li>
<li>数据恢复的场景下，可以重放Binlog以将数据恢复到最新的状态。</li>
</ul>
<p>本文将主要介绍Binlog的文件格式和日志事件，并简单概括相关的应用场景。</p>
<h2>文件格式</h2>
<figure align="center">
<img src="https://mestrace.github.io/images/6/binlog-file.png">
<figcaption>Binlog的文件格式</figcaption>
</img></figure>
<ul>
<li>Binlog日志主要包括两类文件构成：一个日志索引（文件后缀为<code>.index</code>）和数个日志文件（文件后缀为<code>.NNNNNN</code>，<code>N</code>为一个数字）。</li>
<li>索引文件里包含了所有的日志文件的名称，并记录了当前活跃(Active)的日志文件（即当前最新的文件）</li>
<li>日志文件首先以一个魔数开头，紧接着就是一系列包含DDL和DML的binlog events事件</li>
<li>魔数：<code>0xfe 0x62 0x69 0x6e = 0xfe 'b''i''n'</code> </li>
<li>日志文件的第一个事件总是<code>FORMAT_DESCRIPTION_EVENT / START_EVENT_V3</code>，描述了当前日志文件的一些系统基准信息，包括Binlog的版本，MySQL Server的版本和文件创建时间。</li>
<li>随后的事件则根据事件类型有所不同，主要是包含了对于数据的变更信息。</li>
<li>最后，如果这个文件不是当前的活跃日志，则它会以一个<code>Rotate</code>事件结束，并记录了下一个日志文件的名称。</li>
</ul>
<figure align="center">
<img src="https://mestrace.github.io/images/6/binlog-content.png"/>
<figcaption>Binlog的事件格式</figcaption>
</figure>
<p>除了相关的管理事件以外，包含数据更新的Binlog事件通常以日志组(Group)的形式出现（如上图）。一组事件包含一个或多个Binlog事件。一个事务中所有的语句会被归属到同一个日志组。而对于其他事务无关的语句来说（如ALTER TABLE，GRANT等），每一个语句会被归属于一个独立的日志组。当需要以Binlog为基础进行数据复制或恢复时，每个组会被顺序执行，且组中的语句要么全部成功，要么全部失败。</p>
<h2>日志事件</h2>
<p>Binlog主要有三种模式。
- 基于语句的模式(Statement-based，SBR)包含实际执行的SQL语句（如<code>INSERT</code>、<code>UPDATE</code>、<code>DELETE</code>）。
  - 缺点：不仅需要记录执行的语句，而且需要额外记录语句相关的状态信息，以保证重放的时候能够产生相同的结果。在极端情况下，一些非确定性(non-deterministic)的语句可能会产生与预期不一致的结果。
- 基于行的模式(Row-based，RBR)包含对于每一个数据行的变更。
  - 缺点：会产生大量的行语句，可能会引起磁盘性能问题，且恢复的时候需要更多的时间。
- 混合模式(Mixed， MBR)主要基于语句的模式，在一些不安全（unsafe）的场景下（见[4]），会切换为基于行的模式。
  - 在使用无法确定结果的<code>AUTO_INCREMENT</code>，<code>LAST_INSERT_ID()</code>或<code>TIMESTAMP</code>时（见[5]）
  - 当function包含UUID()
  - 当使用储存过程的时候
基于语句和基于行的模式的更细节的对比见参考文献[3]。</p>
<figure align="center">
<img src="https://mestrace.github.io/images/6/binlog-event-mindmap.png"/>
<figcaption>Binlog的事件类型</figcaption>
</figure>
<p>每一个事件都由事件头Header和事件体Event Data组成。
- 一个事件头有 19 字节，依次排列为：时间戳，事件类型，服务器ID，事件长度，下一个事件的byte offset，和标识符。
- 一个事件体由两部分组成，一个固定长度的Post-Header和一个可变长度的Payload组成。Post-Header的长度对于每一种事件来说是固定的，但是不同事件是不一样的。</p>
<div class="highlight"><pre><span></span><code>+============+==========================+
|            |        Timestamp         |
|            |         4 bytes          |
|            +--------------------------+
|            |        Type Code         |
|            |          1 byte          |
|            +--------------------------+
|            |        Server ID         |
|            |         4 bytes          |
|   Header   +--------------------------+
|            |       Event Length       |
|            |         4 bytes          |
|            +--------------------------+
|            |      Next Position       |
|            |         4 bytes          |
|            +--------------------------+
|            |          Flags           |
|            |         2 bytes          |
+------------+--------------------------+
|            | Fixed Part (Post-Header) |
| Event Data +--------------------------+
|            | Variable Part (Payload)  |
+============+==========================+
</code></pre></div>
<p>当配置不同的Binlog模式时，储存的的Binlog事件不尽相同。</p>
<ul>
<li>一些公共的事件，如管理事件，在所有模式下都会产生。</li>
<li>Statement和Row模式下各有数种独特的事件。举个例子，ROWS_EVENT就不会出现在Statement模式下。</li>
<li>只有在开启某些配置之后才会开启的事件，如GTID_EVENT</li>
</ul>
<p>几种常见的事件</p>
<ul>
<li><code>FORMAT_DESCRIPTION_EVENT</code> / <code>START_EVENT_V3</code>：两种日志文件的起始事件，主要是根据Binlog版本不同而使用不同的事件。主要记录了Binlog版本号，MySQL Server版本号，开始时间。在Payload中会附带每种事件枚举值所对应的Post-Header长度。</li>
<li><code>ROTATE_EVENT</code>：当日志文件需要切换时所记录的最后一个事件，保存了紧接着下一个日志文件名称。切换日志文件的条件：1）当前活跃的日志文件大小超过<code>max_binlog_size</code>，或2）执行<code>flush logs;</code>命令。</li>
<li><code>QUERY_EVENT</code>：记录了被执行的SQL语句，相关的统计/debug信息（执行时间，thread id等），和相关的状态信息（是否需要auto increment，charset，tz等）。此事件通常记录的语句为：1）事务开始时的Begin操作，2）Statement模式下的DML操作，3）Row模式下的DDL操作。</li>
<li><code>DELETE_ROWS_EVENT</code> / <code>UPDATE_ROWS_EVENT</code>/ <code>WRITE_ROWS_EVENT</code>：这三种统称为ROWS_EVENT，分别对应<code>INSERT</code>, <code>UPDATE</code>和<code>DELETE</code>操作，记录在Row模式下所有的DML语句。<code>INSERT</code>包括需要插入的所有数据；<code>UPDATE</code>包括修改前的值和修改后的值；<code>DELETE</code>操作包含被删除的主键。</li>
</ul>
<h2>举个例子</h2>
<p>当前MySQL版本</p>
<div class="highlight"><pre><span></span><code><span class="nv">mysql</span><span class="w"> </span><span class="nv">Ver</span><span class="w"> </span><span class="mi">14</span>.<span class="mi">14</span><span class="w"> </span><span class="nv">Distrib</span><span class="w"> </span><span class="mi">5</span>.<span class="mi">7</span>.<span class="mi">35</span><span class="o">-</span><span class="mi">38</span>,<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">debian</span><span class="o">-</span><span class="nv">linux</span><span class="o">-</span><span class="nv">gnu</span><span class="w"> </span><span class="ss">(</span><span class="nv">x86_64</span><span class="ss">)</span><span class="w"> </span><span class="nv">using</span><span class="w"> </span><span class="mi">7</span>.<span class="mi">0</span>
<span class="nv">Percona</span><span class="w"> </span><span class="nv">Server</span><span class="w"> </span><span class="ss">(</span><span class="nv">GPL</span><span class="ss">)</span>,<span class="w"> </span><span class="nv">Release</span><span class="w"> </span><span class="s1">'38'</span>,<span class="w"> </span><span class="nv">Revision</span><span class="w"> </span><span class="s1">'3692a61'</span>
</code></pre></div>
<p>设置binlog</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 查看 / 变更设置 - binlog</span>
vi<span class="w"> </span>/etc/mysql/percona-server.conf.d/mysqld.cnf
</code></pre></div>
<p>在mysql shell内查看binlog相关事件</p>
<div class="highlight"><pre><span></span><code><span class="c1">-- 查看mysql版本</span>
<span class="k">show</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">'%version%'</span><span class="p">;</span>
<span class="c1">-- 查看当前MySQL服务的binlog相关状态</span>
<span class="k">show</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">'%binlog%'</span><span class="p">;</span>
<span class="c1">-- 查看当前所有的binlog文件列表</span>
<span class="k">show</span><span class="w"> </span><span class="nb">binary</span><span class="w"> </span><span class="n">logs</span><span class="p">;</span>
<span class="c1">-- 查看当前所有的binlog；</span>
<span class="k">show</span><span class="w"> </span><span class="n">binlog</span><span class="w"> </span><span class="n">events</span><span class="p">;</span>
<span class="c1">-- 查看当前binlog with paging</span>
<span class="k">show</span><span class="w"> </span><span class="n">binlog</span><span class="w"> </span><span class="n">events</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s1">'mysql-bin.000002'</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="mi">624</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="mi">10</span><span class="err">\</span><span class="k">G</span><span class="p">;</span>
<span class="c1">-- flush当前binlog文件，rotate到下一个binlog文件</span>
<span class="n">flush</span><span class="w"> </span><span class="n">logs</span><span class="p">;</span>
</code></pre></div>
<p>使用mysqlbinlog工具查看binlog</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 进入mysql目录需要有su权限</span>
sudo<span class="w"> </span>su
<span class="nb">cd</span><span class="w"> </span>/var/log/mysql
<span class="c1"># 查看binlog索引文件</span>
cat<span class="w"> </span>bin-mysql.index
<span class="c1"># 查看binlog日志文件 - statement</span>
mysqlbinlog<span class="w"> </span>--no-defaults<span class="w"> </span>bin-mysql.000001
<span class="c1"># 查看binlog日志文件 - row</span>
mysqlbinlog<span class="w"> </span>--no-defaults<span class="w"> </span>--base64-output<span class="o">=</span>DECODE-ROWS<span class="w"> </span>-v<span class="w"> </span>bin-mysql.000002
</code></pre></div>
<h2>应用场景</h2>
<p>前面讲了，Binlog的核心卖点就是能让发生在一个MySQL实例上的所有数据更新能够完整的在其他MySQL实例上重放。MySQL 5.0引入Binlog以支持主从复制，以实现灾难恢复、水平扩展、统计分析、远程数据分发等功能。</p>
<figure align="center">
<img src="https://mestrace.github.io/images/6/binlog-rwsep.png"/>
<figcaption>基于Binlog主从复制实现的读写分离</figcaption>
</figure>
<p>MySQL进群的主从复制主要有三步，如上图</p>
<ol>
<li>Master在每次完成提交事务返回之前，记录本次数据变更事件至Binlog</li>
<li>Slave基于自身维护的binlog offset，从Master拉取相应的binlog更新。并记录到relay log中。</li>
<li>Slave消费relay log去更新自身的数据。</li>
</ol>
<p>下面简述几种实际工作中会应用到的场景。</p>
<ul>
<li>读写分离：在读多写少的情况下，可使用一个主库接收写流量，准实时地将Binlog同步到多个从库上进行数据同步，以实现读的水平扩展。业务也可以根据需要选择读主库。读多写少的场景在业务toC的业务上非常常见，比如在用户系统中，低频的用户注册 vs. 高频的用户登录行为。</li>
<li>数据恢复：需要进行数据恢复的时候，将Binlog进行重放即可恢复数据库的状态。</li>
<li>最终一致性：当需要保证MySQL数据库与其他组件/系统中数据一致时，可以通过订阅Binlog消息的方式进行处理，以避免出现不一致的情况。前司的数据迁移组建先同步存量数据，之后再通过binlog数据处理增量改动。</li>
<li>异地多活 / 跨DC同步：在异地多活的场景下，存在多主写入，需要互相同步的场景下，需要依赖Binlog进行同步。主要的挑战有数据冲突（主键 / 唯一键）和数据回环问题。前司在亚太区和北美区运营运营app的时候就遇到了用户数据同步的问题，开发了一款同步工具专门用于跨DC数据同步。</li>
</ul>
<h2>答疑解惑</h2>
<ol>
<li>
<p>并发更新下，Binlog的有序性如何保证？</p>
<p>在老的版本中，通过<code>prepare_commit_mutex</code>锁以串行的方式来保证MySQL数据库上层Binlog和Innodb存储引擎层的事务提交顺序一致。
MySQL 5.6引入了<code>BLGC（Binary Log Group Commit）</code>引入队列机制保证Innodb commit顺序与binlog落盘顺序一致，并将事务分组，组内的binlog刷盘动作交给一个事务进行，以保证顺序性。</p>
<ul>
<li>Flush Stage: 将每个事务的二进制日志写入内存中。</li>
<li>Sync Stage: 将内存中的二进制日志刷新到磁盘，若队列中有多个事务，那么仅一次fsync操作就完成了二进制日志的写入，这就是BLGC。</li>
<li>Commit Stage: 顺序调用存储引擎层事务的提交。</li>
</ul>
</li>
<li>
<p>写Binlog磁盘坏了咋办（单机故障）？</p>
<p>对于业务（mysql server - 机器硬件）来说，无需额外关心这种细节，默认当成是可靠的就行了。一些额外的细节都可以在磁盘层面做屏蔽，如raid。对于数据来说，定期扫描巡检可以预防数据损坏带来的损失。</p>
<p>以下原因是导致mysql 表毁坏的常见原因： </p>
<ol>
<li>服务器突然断电导致数据文件损坏。 </li>
<li>强制关机，没有先关闭mysql 服务。 </li>
<li>mysqld 进程在写表时被杀掉。 </li>
<li>使用myisamchk 的同时，mysqld 也在操作表。 </li>
<li>磁盘故障。 </li>
<li>服务器死机。 </li>
<li>mysql 本身的bug 。 </li>
</ol>
</li>
</ol>
<h2>参考文献</h2>
<p>如果你想变得更强的话，可以延伸看看</p>
<ol>
<li><a href="https://dev.mysql.com/doc/dev/mysql-server/latest/page_protocol_replication_binlog_event.html">Binlog Event, MySQL Source Code Documentation 官方代码注释</a></li>
<li><a href="https://www.oreilly.com/library/view/mysql-high-availability/9781449341107/ch04.html">C. Bell, M. Kindahl and L. Thalmann, MySQL High Availability: Tools for Building Robust Data Centers 高可用MySQL：构建健壮的数据中心</a></li>
<li><a href="https://dev.mysql.com/doc/refman/8.0/en/replication-sbr-rbr.html">17.2.1.1 Advantages and Disadvantages of Statement-Based and Row-Based Replication, MySQL 8.0 Reference Manual 官方参考手册</a></li>
<li><a href="https://dev.mysql.com/doc/refman/8.0/en/binary-log-mixed.html">5.4.4.3 Mixed Binary Logging Format, MySQL 8.0 Reference Manual 官方参考手册</a></li>
<li><a href="https://dev.mysql.com/doc/refman/8.0/en/replication-features-auto-increment.html">17.5.1.1 Replication and AUTO_INCREMENT, MySQL 8.0 Reference Manual 官方参考手册</a></li>
<li><a href="http://mysql.taobao.org/monthly/2014/12/05/">Binlog event有序性 - 阿里云RDS-数据库内核组</a></li>
<li><a href="https://www.cnblogs.com/mao3714/p/8734838.html">MySQL 中Redo与Binlog顺序一致性问题</a></li>
</ol>
</div>
<div class="tag-cloud">
<p>
<a href="https://mestrace.github.io/tag/mysql.html">MySQL</a>
</p>
</div>
<div class="center social-share">
<p>如果你觉得这篇文章很赞，不要忘记分享给你的小伙伴们！</p>
<div class="addthis_native_toolbox"></div>
<div class="addthis_sharing_toolbox"></div>
<div class="addthis_inline_share_toolbox"></div>
</div>
<div class="addthis_relatedposts_inline"></div>
</article>
<footer>
<p>
  © 2024  - This work is licensed under a <a href="http://creativecommons.org/licenses/by-sa/4.0/deed.en_US" rel="license" target="_blank">Creative Commons Attribution-ShareAlike 4.0 International License</a>
</p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
  <span class="footer-separator">|</span>
  Switch to the <a href="javascript:void(0)" onclick="theme.switch(`dark`)">dark</a> | <a href="javascript:void(0)" onclick="theme.switch(`light`)">light</a> | <a href="javascript:void(0)" onclick="theme.switch(`browser`)">browser</a> theme
  <script data-default-theme="light" data-enable-auto-detect-theme="True" id="dark-theme-script" src="https://mestrace.github.io/theme/dark-theme/dark-theme.min.js" type="text/javascript">
</script>
</p><p>
<a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license" target="_blank">
<img alt="Creative Commons License" height="15" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" style="border-width:0" title="Creative Commons License" width="80"/>
</a>
</p></footer> </main>
<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Mestrace的个人博客 ",
  "url" : "https://mestrace.github.io",
  "image": "http://github.com/Mestrace.png?size=460",
  "description": "我的个人博客，记录我的成长历程"
}
</script><script async="async" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-64172c2607a4b50c" type="text/javascript"></script>
<a aria-label="View source on Github" class="github-corner" href="http://github.com/Mestrace/" target="_blank">
<svg aria-hidden="true" height="80" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" viewbox="0 0 250 250" width="80">
<path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
<path class="octo-arm" d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;">
</path>
<path class="octo-body" d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor">
</path>
</svg>
</a>
</body>
</html>